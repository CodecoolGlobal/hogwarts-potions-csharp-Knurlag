@using Microsoft.AspNetCore.Http
@using HogwartsPotions.Models.Enums
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    string message = Context.Session.GetString("message");
    Context.Session.Remove("message");
    ViewBag.Title = "Login/Registration";
}


<div class="background-container" style="background-image: url(/images/greathall.jpg);">
<div>
    <div id="login-form">
        <form method="post" action="@Url.Action("ValidateLogin", "Student")">
            <fieldset class="form-style-1" style="background-image: url(/images/pergamen.jpg);">
                    @Html.AntiForgeryToken()
                <label class="label-form" for="login-username">Username</label>
                <input type="text" name="username" id="login-username"class="form" size="20">
                <label class="label-form" for="login-password">Password</label>
                <input type="password" name="password" id="login-password" class="form" size="20">
                <br/><br/>
                <button type="submit" class="login-button button-55">Login</button>
            </fieldset>
        </form>
        <div style="text-align: center">
            <p class="login-switch" style="display: inline-block">First year in Hogwarts? Click <strong><a id="register">here</a></strong> to register now!</p></div>
    </div>
    <div id="register-form" hidden="hidden">
        <form method="post" action="@Url.Action("Register", "Student")">
            <fieldset class="form-style-1" style="background-image: url(/images/pergamen.jpg);">
                    @Html.AntiForgeryToken()
                <label class="label-form" for="register-username">Username</label>
                <input type="text" name="username" id="register-username" class="form" size="20">
                <label class="label-form" for="register-password">Password</label>
                <input type="password" name="password" id="register-password" class="form" size="20">

                <label class="label-form" for="register-houseType">House</label>
                <select for="register-houseType" name="houseType" class="form register-select" id="register-houseType">
                    @foreach (HouseType house in ViewBag.HouseTypes)
                    {
                        <option>@house</option>
                    }
                </select>
                <span validation-for="register-houseType" class="text-danger"></span>

                <label class="label-form" for="register-petType">Pet</label>
                <select for="register-petType" name="petType" class="form register-select" id="register-petType">
                    @foreach (PetType pet in ViewBag.PetTypes)
                    {
                        <option>@pet</option>
                    }
                </select>
                <span validation-for="register-petType" class="text-danger"></span>
                <br/><br/>
                <button type="submit" class="login-button button-55">Register</button>
            </fieldset>
        </form>
        <div style="text-align: center">
            <p class="login-switch" style="display: inline-block">Welcome back to Hogwarts. Click <strong><a id="login">here</a></strong> to log in now!</p></div>
    </div>
</div>
    @if (message != null)
    {
        Console.WriteLine("ok");
        <div style="text-align: center">
            <h1 id="warning"><strong>@message</strong></h1></div>
    }
</div>